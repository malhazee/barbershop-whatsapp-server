rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // قواعد بسيطة للمواعيد - للاختبار
    match /appointments/{appointmentId} {
      allow read: if true;
      allow create: if true;
      allow delete: if true;
      allow update: if true;  // السماح بالتحديث للإلغاء مع سبب
    }
    
    // قواعد الإعدادات
    match /settings/{settingId} {
      allow read: if true;
      allow write: if true;
    }
    
    // قواعد أيام العطل
    match /holidays/{holidayId} {
      allow read: if true;  // يمكن للجميع قراءة أيام العطل
      allow create: if true; // يمكن للأدمن إضافة أيام عطل
      allow delete: if true; // يمكن للأدمن حذف أيام عطل
      allow update: if true; // يمكن للأدمن تعديل أيام عطل
    }
    
    // قواعد الإشعارات المستمرة
    match /notifications/{notificationId} {
      allow read: if true;   // يمكن للجميع قراءة إشعاراتهم
      allow create: if true; // الأدمن يمكنه إنشاء إشعارات
      allow update: if true; // تحديث حالة القراءة
      allow delete: if true; // حذف الإشعارات القديمة
    }
  }
}
